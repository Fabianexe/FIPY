import plotly.graph_objs as go
from math import inf as infinity
import re

svgs = {
    'A': [
        ('M', 1, 0),
        ('L', 0.7813370474, 0),
        ('L', 0.6949860724, 0.2276536313),
        ('L', 0.295264624, 0.2276536313),
        ('L', 0.213091922, 0.0),
        ('L', 0.0, 0.0),
        ('L', 0.3885793872, 1.0),
        ('L', 0.6016713092, 1.0),
        ('L', 1.0, 0.0),
        'Z',
        ('M', 0.6295264624, 0.3952513967),
        ('L', 0.4930362117, 0.7667597765),
        ('L', 0.3579387187, 0.3952513967),
        ('L', 0.6295264624, 0.3952513967),
        'Z',
    ],
    'B': [
        ('M', 0.0, 1.0),
        ('L', 0.47666666666666657, 1.0),
        ('C', 0.5716666666666665, 1.0, 0.6416666666666666, 0.9958100558659218, 0.6883333333333332, 0.9902234636871509),
        ('C', 0.7349999999999999, 0.9832402234636871, 0.7766666666666666, 0.9692737430167597, 0.8133333333333332,
         0.9483240223463688),
        ('C', 0.8499999999999999, 0.9273743016759778, 0.8799999999999999, 0.899441340782123, 0.9049999999999999,
         0.8645251396648045),
        ('C', 0.9283333333333332, 0.8296089385474861, 0.9416666666666667, 0.791899441340782, 0.9416666666666667,
         0.7486033519553074),
        ('C', 0.9416666666666667, 0.7011173184357542, 0.9266666666666666, 0.6578212290502793, 0.8966666666666666,
         0.6187150837988827),
        ('C', 0.8666666666666666, 0.5796089385474861, 0.8249999999999997, 0.5502793296089385, 0.7733333333333332,
         0.5307262569832403),
        ('C', 0.8466666666666666, 0.5139664804469274, 0.9016666666666666, 0.4832402234636871, 0.9416666666666667,
         0.4399441340782123),
        ('C', 0.98, 0.39804469273743015, 1.0, 0.34776536312849166, 1.0, 0.2905027932960894),
        ('C', 1.0, 0.24441340782122906, 0.9866666666666667, 0.19972067039106145, 0.9616666666666667,
         0.15782122905027934),
        ('C', 0.9366666666666666, 0.11452513966480447, 0.9016666666666666, 0.07960893854748603, 0.8583333333333333,
         0.054469273743016765),
        ('C', 0.815, 0.02793296089385475, 0.7616666666666666, 0.012569832402234636, 0.6966666666666665,
         0.006983240223463688),
        ('C', 0.6566666666666666, 0.002793296089385475, 0.5599999999999998, 0.0013966480446927375, 0.4066666666666666,
         0.0),
        ('L', 0.0, 0.0),
        ('L', 0.0, 1.0),
        ('M', 0.24166666666666667, 0.8337988826815642),
        ('L', 0.24166666666666667, 0.6019553072625698),
        ('L', 0.3999999999999999, 0.6019553072625698),
        ('C', 0.49333333333333323, 0.6019553072625698, 0.5516666666666666, 0.6033519553072626, 0.5733333333333333,
         0.6061452513966481),
        ('C', 0.6149999999999999, 0.6103351955307262, 0.6483333333333332, 0.6215083798882682, 0.6716666666666665,
         0.6410614525139665),
        ('C', 0.6949999999999998, 0.6606145251396648, 0.7066666666666666, 0.6871508379888268, 0.7066666666666666,
         0.7192737430167598),
        ('C', 0.7066666666666666, 0.7500000000000001, 0.6966666666666665, 0.7751396648044694, 0.6766666666666665,
         0.7946927374301676),
        ('C', 0.6566666666666666, 0.8142458100558659, 0.6249999999999999, 0.8254189944134078, 0.5849999999999999,
         0.8296089385474861),
        ('C', 0.5616666666666665, 0.8324022346368715, 0.49333333333333323, 0.8337988826815642, 0.3799999999999999,
         0.8337988826815642),
        ('L', 0.24166666666666667, 0.8337988826815642),
        ('M', 0.24166666666666667, 0.4357541899441341),
        ('L', 0.24166666666666667, 0.16899441340782123),
        ('L', 0.46499999999999986, 0.16899441340782123),
        ('C', 0.5516666666666666, 0.16899441340782123, 0.6066666666666666, 0.17039106145251398, 0.6299999999999999,
         0.17458100558659218),
        ('C', 0.6649999999999998, 0.18016759776536315, 0.6949999999999998, 0.19273743016759778, 0.7166666666666666,
         0.21508379888268156),
        ('C', 0.7399999999999999, 0.23603351955307264, 0.7499999999999999, 0.2639664804469274, 0.7499999999999999,
         0.2988826815642458),
        ('C', 0.7499999999999999, 0.329608938547486, 0.7416666666666666, 0.35474860335195535, 0.7249999999999999,
         0.37569832402234643),
        ('C', 0.7066666666666666, 0.3966480446927374, 0.6816666666666665, 0.41201117318435754, 0.6499999999999999,
         0.42178770949720673),
        ('C', 0.6166666666666666, 0.43156424581005587, 0.5449999999999999, 0.4357541899441341, 0.43499999999999994,
         0.4357541899441341),
        ('L', 0.24166666666666667, 0.4357541899441341)
    ],
    'C': [
        ('M', 0.7756410256410257, 0.37162162162162166), ('L', 1.0, 0.3121621621621622),
        ('C', 0.9647435897435898, 0.20675675675675675, 0.908653846153846, 0.12837837837837837, 0.8285256410256409,
         0.07702702702702702),
        ('C', 0.7483974358974359, 0.025675675675675674, 0.6458333333333334, 0.0, 0.5240384615384616, 0.0),
        ('C', 0.37019230769230776, 0.0, 0.24519230769230774, 0.043243243243243246, 0.14743589743589747,
         0.13108108108108107),
        ('C', 0.049679487179487176, 0.21891891891891893, 0.0, 0.3391891891891892, 0.0, 0.49189189189189186),
        ('C', 0.0, 0.6527027027027027, 0.049679487179487176, 0.777027027027027, 0.14903846153846156,
         0.8662162162162163),
        ('C', 0.24679487179487183, 0.9554054054054054, 0.3766025641025641, 1.0, 0.5368589743589743, 1.0),
        ('C', 0.6778846153846154, 1.0, 0.7916666666666667, 0.9648648648648648, 0.8798076923076922, 0.8945945945945947),
        ('C', 0.9310897435897435, 0.8540540540540541, 0.9711538461538461, 0.7945945945945946, 0.9967948717948718,
         0.7175675675675676),
        ('L', 0.7676282051282052, 0.6702702702702703),
        ('C', 0.7532051282051283, 0.7202702702702704, 0.7259615384615384, 0.7608108108108109, 0.6826923076923077,
         0.7891891891891891),
        ('C', 0.639423076923077, 0.8189189189189189, 0.5865384615384616, 0.8324324324324325, 0.5256410256410257,
         0.8324324324324325),
        ('C', 0.44070512820512825, 0.8324324324324325, 0.37179487179487186, 0.8067567567567567, 0.31891025641025644,
         0.7554054054054055),
        ('C', 0.26602564102564097, 0.7040540540540541, 0.23878205128205132, 0.6216216216216216, 0.23878205128205132,
         0.5054054054054055),
        ('C', 0.23878205128205132, 0.3837837837837838, 0.26602564102564097, 0.295945945945946, 0.31730769230769235,
         0.24459459459459462),
        ('C', 0.37019230769230776, 0.19324324324324327, 0.43750000000000006, 0.1662162162162162, 0.5208333333333334,
         0.1662162162162162),
        ('C', 0.5817307692307692, 0.1662162162162162, 0.6362179487179488, 0.1837837837837838, 0.6794871794871795,
         0.21621621621621623),
        ('C', 0.7243589743589743, 0.24864864864864863, 0.7564102564102565, 0.3013513513513514, 0.7756410256410257,
         0.37162162162162166)
    ],
    'D': [
        ('M', 0.0, 1.0),
        ('L', 0.43999999999999995, 1.0),
        ('C', 0.5399999999999999, 1.0, 0.6149999999999999, 0.9930167597765364, 0.6683333333333332, 0.9804469273743016),
        ('C', 0.7383333333333333, 0.9636871508379888, 0.7983333333333332, 0.9329608938547487, 0.8483333333333333,
         0.888268156424581),
        ('C', 0.8983333333333332, 0.8449720670391061, 0.9349999999999999, 0.7905027932960893, 0.9616666666666667,
         0.7262569832402235),
        ('C', 0.9883333333333333, 0.6634078212290503, 1.0, 0.5837988826815642, 1.0, 0.4902234636871508),
        ('C', 1.0, 0.40782122905027934, 0.9883333333333333, 0.3365921787709497, 0.9633333333333333, 0.2779329608938548),
        ('C', 0.9333333333333332, 0.2053072625698324, 0.8916666666666666, 0.1452513966480447, 0.8366666666666666,
         0.10055865921787709),
        ('C', 0.7949999999999999, 0.0670391061452514, 0.7383333333333333, 0.04050279329608939, 0.6666666666666665,
         0.02094972067039106),
        ('C', 0.6133333333333333, 0.006983240223463688, 0.5433333333333332, 0.0, 0.4533333333333332, 0.0),
        ('L', 0.0, 0.0),
        ('L', 0.0, 1.0),
        ('M', 0.24166666666666667, 0.8310055865921788),
        ('L', 0.24166666666666667, 0.16899441340782123),
        ('L', 0.42166666666666663, 0.16899441340782123),
        ('C', 0.48833333333333323, 0.16899441340782123, 0.5366666666666666, 0.1717877094972067, 0.5666666666666665,
         0.17737430167597767),
        ('C', 0.6066666666666666, 0.1857541899441341, 0.6383333333333332, 0.19972067039106145, 0.6633333333333332,
         0.21927374301675978),
        ('C', 0.6899999999999998, 0.23882681564245814, 0.7116666666666666, 0.2709497206703911, 0.7266666666666666,
         0.3156424581005587),
        ('C', 0.7433333333333333, 0.3603351955307263, 0.7516666666666666, 0.42178770949720673, 0.7516666666666666,
         0.49860335195530725),
        ('C', 0.7516666666666666, 0.5768156424581006, 0.7433333333333333, 0.6354748603351956, 0.7266666666666666,
         0.6773743016759777),
        ('C', 0.7116666666666666, 0.7178770949720671, 0.6883333333333332, 0.7513966480446929, 0.6583333333333332,
         0.7737430167597766),
        ('C', 0.6299999999999999, 0.797486033519553, 0.5916666666666666, 0.8128491620111732, 0.5466666666666666,
         0.8212290502793296),
        ('C', 0.5133333333333332, 0.8268156424581006, 0.4483333333333333, 0.8310055865921788, 0.34999999999999987,
         0.8310055865921788),
        ('L', 0.24166666666666667, 0.8310055865921788),
    ],
    'E': [
        ('M', 0.0, 0.0),
        ('L', 0.0, 1.0),
        ('L', 0.9761029411764706, 1.0),
        ('L', 0.9761029411764706, 0.8310055865921788),
        ('L', 0.2647058823529412, 0.8310055865921788),
        ('L', 0.2647058823529412, 0.6089385474860335),
        ('L', 0.926470588235294, 0.6089385474860335),
        ('L', 0.926470588235294, 0.4399441340782123),
        ('L', 0.2647058823529412, 0.4399441340782123),
        ('L', 0.2647058823529412, 0.16899441340782123),
        ('L', 1.0, 0.16899441340782123),
        ('L', 1.0, 0.0),
        ('L', 0.0, 0.0),
    ],
    'F': [
        ('M', 0.0, 0.0),
        ('L', 0.0, 1.0),
        ('L', 1.0, 1.0),
        ('L', 1.0, 0.8310055865921788),
        ('L', 0.29387755102040825, 0.8310055865921788),
        ('L', 0.29387755102040825, 0.5935754189944135),
        ('L', 0.9040816326530614, 0.5935754189944135),
        ('L', 0.9040816326530614, 0.4245810055865922),
        ('L', 0.29387755102040825, 0.4245810055865922),
        ('L', 0.29387755102040825, 0.0),
        ('L', 0.0, 0.0),
    ],
    'G': [
        ('M', 0.5351270553064276, 0.37162162162162166),
        ('L', 0.5351270553064276, 0.5351351351351352),
        ('L', 1.0, 0.5351351351351352), ('L', 1.0, 0.15),
        ('C', 0.9551569506726458, 0.10945945945945947, 0.8893871449925262, 0.07567567567567567, 0.804185351270553,
         0.0445945945945946),
        ('C', 0.7174887892376683, 0.014864864864864864, 0.6307922272047833, 0.0, 0.5426008968609866, 0.0),
        ('C', 0.430493273542601, 0.0, 0.3333333333333334, 0.02027027027027027, 0.24962630792227206,
         0.06351351351351352),
        ('C', 0.1674140508221226, 0.10540540540540541, 0.10463378176382661, 0.1662162162162162,
         0.06278026905829596, 0.245945945945946),
        ('C', 0.02092675635276532, 0.32432432432432434, 0.0, 0.4108108108108108, 0.0, 0.5027027027027027),
        ('C', 0.0, 0.6040540540540541, 0.022421524663677132, 0.6932432432432433, 0.07025411061285501,
         0.7716216216216217),
        ('C', 0.1165919282511211, 0.85, 0.18535127055306427, 0.9094594594594595, 0.27503736920777283,
         0.9513513513513513),
        ('C', 0.3437967115097161, 0.9837837837837837, 0.4289985052316892, 1.0, 0.5306427503736922, 1.0),
        ('C', 0.6636771300448431, 1.0, 0.7683109118086697, 0.9743243243243243, 0.8430493273542601,
         0.9243243243243244),
        ('C', 0.9177877428998507, 0.8743243243243244, 0.9656203288490284, 0.8040540540540541, 0.9865470852017937,
         0.7162162162162162),
        ('L', 0.7713004484304932, 0.6797297297297298),
        ('C', 0.7563527653213753, 0.727027027027027, 0.727952167414051, 0.7648648648648649, 0.687593423019432,
         0.7918918918918919),
        ('C', 0.6457399103139014, 0.8189189189189189, 0.5934230194319882, 0.8324324324324325, 0.5306427503736922,
         0.8324324324324325),
        ('C', 0.43647234678624824, 0.8324324324324325, 0.3617339312406577, 0.8054054054054054, 0.30642750373692085,
         0.7513513513513514),
        ('C', 0.24962630792227206, 0.6972972972972973, 0.22272047832585956, 0.6175675675675676, 0.22272047832585956,
         0.5108108108108108),
        ('C', 0.22272047832585956, 0.395945945945946, 0.25112107623318386, 0.3108108108108108, 0.30642750373692085,
         0.25270270270270273),
        ('C', 0.36322869955156956, 0.19594594594594597, 0.43796711509716, 0.1662162162162162, 0.5291479820627804,
         0.1662162162162162),
        ('C', 0.5739910313901346, 0.1662162162162162, 0.6188340807174889, 0.17432432432432432, 0.665171898355755,
         0.19054054054054056),
        ('C', 0.7100149476831092, 0.20675675675675675, 0.7488789237668162, 0.2256756756756757, 0.7817638266068759,
         0.24864864864864863),
        ('L', 0.7817638266068759, 0.37162162162162166),
        ('L', 0.5351270553064276, 0.37162162162162166)
    ],
    'H': [
        ('M', 0.0, 0.0),
        ('L', 0.0, 1.0),
        ('L', 0.2530541012216405, 1.0),
        ('L', 0.2530541012216405, 0.6061452513966481),
        ('L', 0.7469458987783594, 0.6061452513966481),
        ('L', 0.7469458987783594, 1.0),
        ('L', 1.0, 1.0),
        ('L', 1.0, 0.0),
        ('L', 0.7469458987783594, 0.0),
        ('L', 0.7469458987783594, 0.4371508379888268),
        ('L', 0.2530541012216405, 0.4371508379888268),
        ('L', 0.2530541012216405, 0.0),
        ('L', 0.0, 0.0),
    ],
    'I': [
        ('M', 0.0, 0.0),
        ('L', 0.0, 1.0),
        ('L', 1.0, 1.0),
        ('L', 1.0, 0.0),
        ('L', 0.0, 0.0),
    ],
    'J': [
        ('M', 0.685589519650655, 1.0),
        ('L', 1.0, 1.0),
        ('L', 1.0, 0.3777472527472528),
        ('C', 1.0, 0.2953296703296704, 0.9890829694323144, 0.23351648351648355, 0.965065502183406, 0.18956043956043958),
        ('C', 0.9344978165938866, 0.13186813186813187, 0.8799126637554586, 0.08653846153846154, 0.7991266375545852,
         0.0521978021978022),
        ('C', 0.7183406113537117, 0.016483516483516484, 0.6135371179039303, 0.0, 0.482532751091703, 0.0),
        ('C', 0.3275109170305678, 0.0, 0.20960698689956328, 0.027472527472527476, 0.12663755458515283,
         0.08104395604395605),
        ('C', 0.0436681222707424, 0.13598901098901098, 0.0, 0.21565934065934067, 0.0, 0.3200549450549451),
        ('L', 0.29694323144104806, 0.34203296703296704),
        ('C', 0.3013100436681223, 0.28571428571428575, 0.31441048034934505, 0.24587912087912092, 0.3362445414847162,
         0.22252747252747254),
        ('C', 0.37117903930131, 0.18681318681318684, 0.4235807860262009, 0.16895604395604397, 0.49344978165938863,
         0.16895604395604397),
        ('C', 0.5633187772925765, 0.16895604395604397, 0.6135371179039303, 0.1826923076923077, 0.6419213973799128,
         0.20741758241758246),
        ('C', 0.6703056768558954, 0.23214285714285715, 0.685589519650655, 0.2843406593406594, 0.685589519650655,
         0.36401098901098905),
        ('L', 0.685589519650655, 1.0),
    ],
    'K': [
        ('M', 0.0, 0.0),
        ('L', 0.0, 1.0),
        ('L', 0.2232558139534884, 1.0),
        ('L', 0.2232558139534884, 0.5558659217877095),
        ('L', 0.675968992248062, 1.0),
        ('L', 0.9782945736434109, 1.0),
        ('L', 0.5596899224806201, 0.6103351955307262),
        ('L', 1.0, 0.0),
        ('L', 0.710077519379845, 0.0),
        ('L', 0.4046511627906977, 0.46927374301675984),
        ('L', 0.2232558139534884, 0.3016759776536313),
        ('L', 0.2232558139534884, 0.0),
        ('L', 0.0, 0.0),
    ],
    'L': [
        ('M', 0.0, 0.0),
        ('L', 0.0, 1.0),
        ('L', 0.28571428571428575, 1.0),
        ('L', 0.28571428571428575, 0.1704225352112676),
        ('L', 1.0, 0.1704225352112676),
        ('L', 1.0, 0.0),
        ('L', 0.0, 0.0),
    ],
    'M': [
        ('M', 0.0, 0.0),
        ('L', 0.0, 1.0),
        ('L', 0.3125904486251808, 1.0),
        ('L', 0.5007235890014471, 0.31843575418994413),
        ('L', 0.6859623733719248, 1.0),
        ('L', 1.0, 1.0),
        ('L', 1.0, 0.0),
        ('L', 0.8060781476121563, 0.0),
        ('L', 0.8060781476121563, 0.7863128491620112),
        ('L', 0.6005788712011577, 0.0),
        ('L', 0.3994211287988422, 0.0),
        ('L', 0.1939218523878437, 0.7863128491620112),
        ('L', 0.1939218523878437, 0.0),
        ('L', 0.0, 0.0),
    ],
    'N': [
        ('M', 0.0, 0.0),
        ('L', 0.0, 1.0),
        ('L', 0.2482394366197183, 1.0),
        ('L', 0.7640845070422534, 0.3324022346368715),
        ('L', 0.7640845070422534, 1.0),
        ('L', 1.0, 1.0),
        ('L', 1.0, 0.0),
        ('L', 0.7447183098591549, 0.0),
        ('L', 0.23591549295774647, 0.6522346368715084),
        ('L', 0.23591549295774647, 0.0),
        ('L', 0.0, 0.0),
    ],
    'O': [
        ('M', 0.0, 0.4945945945945946),
        (
            'C', 0.0, 0.591891891891892, 0.015827338129496406, 0.6756756756756757, 0.047482014388489216,
            0.741891891891892),
        ('C', 0.07050359712230217, 0.7918918918918919, 0.1035971223021583, 0.8351351351351352, 0.14388489208633093,
         0.8743243243243244),
        ('C', 0.1841726618705036, 0.9135135135135136, 0.22877697841726624, 0.9432432432432434, 0.27625899280575544,
         0.9621621621621621),
        ('C', 0.3410071942446044, 0.9878378378378379, 0.4143884892086332, 1.0, 0.49928057553956845, 1.0),
        ('C', 0.6503597122302159, 1.0, 0.772661870503597, 0.9554054054054054, 0.8633093525179857, 0.8675675675675676),
        ('C', 0.953956834532374, 0.7783783783783783, 1.0, 0.6554054054054054, 1.0, 0.49864864864864866),
        ('C', 1.0, 0.3418918918918919, 0.953956834532374, 0.22027027027027027, 0.8647482014388489, 0.1324324324324324),
        ('C', 0.7741007194244603, 0.043243243243243246, 0.6532374100719425, 0.0, 0.502158273381295, 0.0),
        ('C', 0.34820143884892085, 0.0, 0.22733812949640295, 0.043243243243243246, 0.13669064748201443,
         0.13108108108108107),
        ('C', 0.0460431654676259, 0.21891891891891893, 0.0, 0.34054054054054056, 0.0, 0.4945945945945946),
        ('M', 0.21438848920863313, 0.5),
        ('C', 0.21438848920863313, 0.3905405405405406, 0.24172661870503595, 0.3081081081081081, 0.2964028776978418,
         0.25135135135135134),
        ('C', 0.3496402877697842, 0.19459459459459463, 0.4172661870503598, 0.1662162162162162, 0.5007194244604317,
         0.1662162162162162),
        ('C', 0.5841726618705037, 0.1662162162162162, 0.6517985611510791, 0.19459459459459463, 0.7050359712230218,
         0.25135135135135134),
        ('C', 0.7582733812949639, 0.3067567567567568, 0.7841726618705035, 0.3905405405405406, 0.7841726618705035,
         0.5027027027027027),
        ('C', 0.7841726618705035, 0.6135135135135136, 0.7582733812949639, 0.6972972972972973, 0.706474820143885,
         0.7513513513513514),
        ('C', 0.6546762589928058, 0.8054054054054054, 0.5870503597122303, 0.8324324324324325, 0.5007194244604317,
         0.8324324324324325),
        ('C', 0.41582733812949646, 0.8324324324324325, 0.3467625899280576, 0.8054054054054054, 0.29352517985611515,
         0.7500000000000001),
        ('C', 0.24172661870503595, 0.6945945945945946, 0.21438848920863313, 0.6121621621621622, 0.21438848920863313,
         0.5),
    ],
    'P': [
        ('M', 0.0, 0.0),
        ('L', 0.0, 1.0),
        ('L', 0.42335766423357657, 1.0),
        ('C', 0.583941605839416, 1.0, 0.687956204379562, 0.994413407821229, 0.7372262773722627, 0.9846368715083799),
        ('C', 0.8120437956204379, 0.9692737430167597, 0.8740875912408759, 0.9371508379888269, 0.9251824817518247,
         0.8868715083798883),
        ('C', 0.9744525547445255, 0.8365921787709497, 1.0, 0.7723463687150839, 1.0, 0.6927374301675978),
        ('C', 1.0, 0.6312849162011174, 0.9854014598540146, 0.5796089385474861, 0.9562043795620437, 0.5377094972067039),
        ('C', 0.927007299270073, 0.4958100558659218, 0.8905109489051095, 0.46229050279329614, 0.8448905109489051,
         0.43854748603351956),
        ('C', 0.8010948905109488, 0.41480446927374304, 0.7554744525547444, 0.3994413407821229, 0.7080291970802919,
         0.3910614525139665),
        ('C', 0.645985401459854, 0.3812849162011174, 0.5547445255474452, 0.3770949720670391, 0.4361313868613138,
         0.3770949720670391),
        ('L', 0.26277372262773724, 0.3770949720670391),
        ('L', 0.26277372262773724, 0.0),
        ('L', 0.0, 0.0),
        ('M', 0.26277372262773724, 0.8310055865921788),
        ('L', 0.26277372262773724, 0.5474860335195532),
        ('L', 0.406934306569343, 0.5474860335195532),
        ('C', 0.510948905109489, 0.5474860335195532, 0.5802919708029197, 0.5516759776536313, 0.6167883211678831,
         0.5628491620111732),
        ('C', 0.6514598540145985, 0.5726256983240223, 0.6788321167883211, 0.5893854748603352, 0.698905109489051,
         0.611731843575419),
        ('C', 0.718978102189781, 0.6340782122905029, 0.7281021897810218, 0.659217877094972, 0.7281021897810218,
         0.6899441340782123),
        ('C', 0.7281021897810218, 0.7262569832402235, 0.7153284671532847, 0.755586592178771, 0.6861313868613138,
         0.7793296089385476),
        ('C', 0.6587591240875912, 0.803072625698324, 0.6240875912408758, 0.8184357541899441, 0.5802919708029197,
         0.8240223463687151),
        ('C', 0.5492700729927007, 0.8282122905027933, 0.48540145985401456, 0.8310055865921788, 0.3905109489051094,
         0.8310055865921788),
        ('L', 0.26277372262773724, 0.8310055865921788),
    ],
    'Q': [
        ('M', 0.8393351800554016, 0.20375),
        ('C', 0.8878116343490305, 0.17125000000000004, 0.9418282548476454, 0.14625, 1.0, 0.1275),
        ('L', 0.9252077562326869, 0.0),
        ('C', 0.8961218836565096, 0.00874999999999999, 0.8656509695290859, 0.019999999999999993, 0.8365650969529086,
         0.033749999999999995),
        ('C', 0.8310249307479224, 0.03625, 0.7867036011080332, 0.06374999999999999, 0.703601108033241, 0.11375),
        ('C', 0.6385041551246537, 0.0875, 0.5664819944598338, 0.075, 0.48891966759002775, 0.075),
        ('C', 0.33518005540166207, 0.075, 0.21606648199445988, 0.115, 0.13019390581717455, 0.19625),
        ('C', 0.0443213296398892, 0.27749999999999997, 0.0, 0.39125000000000004, 0.0, 0.5375000000000001),
        ('C', 0.0, 0.68375, 0.0443213296398892, 0.7975, 0.13019390581717455, 0.87875),
        ('C', 0.2174515235457064, 0.96, 0.33518005540166207, 1.0, 0.4833795013850416, 1.0),
        ('C', 0.6301939058171746, 1.0, 0.7465373961218835, 0.96, 0.832409972299169, 0.87875),
        ('C', 0.9182825484764542, 0.7975, 0.9612188365650969, 0.68375, 0.9612188365650969, 0.5375000000000001),
        ('C', 0.9612188365650969, 0.46, 0.9501385041551246, 0.3925, 0.9252077562326869, 0.33375000000000005),
        ('C', 0.9072022160664819, 0.28875, 0.8795013850415513, 0.24500000000000002, 0.8393351800554016, 0.20375),
        ('M', 0.6786703601108034, 0.305),
        ('C', 0.703601108033241, 0.3325, 0.7229916897506924, 0.36625, 0.7354570637119112, 0.40375000000000005),
        ('C', 0.7493074792243767, 0.4425, 0.7548476454293628, 0.48750000000000004, 0.7548476454293628,
         0.5375000000000001),
        ('C', 0.7548476454293628, 0.6412500000000001, 0.7299168975069251, 0.7175, 0.6800554016620499, 0.76875),
        ('C', 0.628808864265928, 0.82, 0.5637119113573408, 0.845, 0.4819944598337951, 0.845),
        ('C', 0.40027700831024937, 0.845, 0.3337950138504155, 0.82, 0.28254847645429365, 0.76875),
        ('C', 0.23268698060941825, 0.7175, 0.2063711911357341, 0.64, 0.2063711911357341, 0.5375000000000001),
        ('C', 0.2063711911357341, 0.43250000000000005, 0.23268698060941825, 0.355, 0.28254847645429365, 0.3025),
        ('C', 0.3337950138504155, 0.25125000000000003, 0.39750692520775627, 0.225, 0.4750692520775624, 0.225),
        ('C', 0.5041551246537396, 0.225, 0.5318559556786704, 0.22875, 0.556786703601108, 0.23750000000000002),
        ('C', 0.5166204986149585, 0.26125000000000004, 0.4750692520775624, 0.27999999999999997, 0.43351800554016623,
         0.29375),
        ('L', 0.48891966759002775, 0.3975),
        ('C', 0.5554016620498615, 0.37625000000000003, 0.6177285318559557, 0.34625, 0.6786703601108034, 0.305),
    ],
    'R': [
        ('M', 0.0, 0.0),
        ('L', 0.0, 1.0),
        ('L', 0.4720496894409938, 1.0),
        ('C', 0.5916149068322981, 1.0, 0.6785714285714286, 0.9902234636871509, 0.7313664596273293, 0.973463687150838),
        ('C', 0.7857142857142857, 0.9553072625698326, 0.829192546583851, 0.9231843575418995, 0.860248447204969,
         0.8770949720670391),
        ('C', 0.8928571428571429, 0.8310055865921788, 0.9099378881987579, 0.7779329608938549, 0.9099378881987579,
         0.7192737430167598),
        ('C', 0.9099378881987579, 0.643854748603352, 0.8850931677018634, 0.5824022346368715, 0.8354037267080746,
         0.5335195530726258),
        ('C', 0.7872670807453416, 0.48463687150837986, 0.7142857142857143, 0.4539106145251397, 0.6164596273291925,
         0.44134078212290506),
        ('C', 0.6645962732919254, 0.41620111731843573, 0.7049689440993789, 0.38826815642458107, 0.7360248447204969,
         0.3575418994413408),
        ('C', 0.7670807453416147, 0.3268156424581006, 0.8105590062111802, 0.27234636871508383, 0.8633540372670808,
         0.19553072625698326),
        ('L', 1.0, 0.0),
        ('L', 0.7313664596273293, 0.0),
        ('L', 0.5683229813664596, 0.21787709497206706),
        ('C', 0.5108695652173914, 0.2946927374301676, 0.4720496894409938, 0.34497206703910616, 0.45031055900621114,
         0.3645251396648045),
        ('C', 0.4301242236024844, 0.3840782122905028, 0.40683229813664595, 0.39804469273743015, 0.38354037267080743,
         0.4064245810055866),
        ('C', 0.3602484472049689, 0.4134078212290503, 0.32142857142857145, 0.4175977653631285, 0.27018633540372666,
         0.4175977653631285),
        ('L', 0.2251552795031056, 0.4175977653631285),
        ('L', 0.2251552795031056, 0.0),
        ('L', 0.0, 0.0),
        ('M', 0.2251552795031056, 0.5768156424581006),
        ('L', 0.391304347826087, 0.5768156424581006),
        ('C', 0.4984472049689441, 0.5768156424581006, 0.5652173913043478, 0.5810055865921788, 0.593167701863354,
         0.5893854748603352),
        ('C', 0.6195652173913043, 0.5977653631284916, 0.639751552795031, 0.611731843575419, 0.65527950310559,
         0.6312849162011174),
        ('C', 0.670807453416149, 0.6508379888268156, 0.6785714285714286, 0.6759776536312849, 0.6785714285714286,
         0.7067039106145252),
        ('C', 0.6785714285714286, 0.7402234636871509, 0.6677018633540373, 0.7667597765363129, 0.6475155279503105,
         0.7877094972067039),
        ('C', 0.6288819875776397, 0.8086592178770949, 0.5993788819875776, 0.8212290502793296, 0.5636645962732919,
         0.8268156424581006),
        ('C', 0.5450310559006211, 0.8296089385474861, 0.4906832298136646, 0.8310055865921788, 0.40062111801242234,
         0.8310055865921788),
        ('L', 0.2251552795031056, 0.8310055865921788),
        ('L', 0.2251552795031056, 0.5768156424581006),
    ],
    'S': [
        ('M', 0.0, 0.3319838056680162),
        ('L', 0.2422680412371134, 0.3508771929824562),
        ('C', 0.25601374570446733, 0.2860998650472335, 0.28522336769759454, 0.24021592442645076, 0.3298969072164949,
         0.21052631578947367),
        ('C', 0.3745704467353952, 0.1794871794871795, 0.43470790378006874, 0.16464237516869096, 0.5103092783505155,
         0.16464237516869096),
        ('C', 0.59106529209622, 0.16464237516869096, 0.6512027491408935, 0.17813765182186236, 0.6907216494845362,
         0.20512820512820518),
        ('C', 0.7319587628865981, 0.23211875843454793, 0.752577319587629, 0.2631578947368421, 0.752577319587629,
         0.2982456140350877),
        ('C', 0.752577319587629, 0.3211875843454791, 0.7439862542955327, 0.340080971659919, 0.7268041237113403,
         0.35627530364372473),
        ('C', 0.7096219931271479, 0.3724696356275304, 0.6786941580756014, 0.3859649122807018, 0.6374570446735396,
         0.398110661268556),
        ('C', 0.6082474226804124, 0.40620782726045884, 0.5412371134020619, 0.42105263157894735, 0.43814432989690727,
         0.43994601889338736),
        ('C', 0.30584192439862545, 0.4669365721997301, 0.211340206185567, 0.4979757085020243, 0.15807560137457047,
         0.5357624831309042),
        ('C', 0.08247422680412372, 0.5897435897435898, 0.04467353951890035, 0.6545209176788124, 0.04467353951890035,
         0.7300944669365722),
        ('C', 0.04467353951890035, 0.7800269905533063, 0.061855670103092786, 0.8259109311740891, 0.09793814432989692,
         0.8690958164642375),
        ('C', 0.13402061855670105, 0.9109311740890689, 0.1838487972508591, 0.9446693657219974, 0.2508591065292096,
         0.9662618083670715),
        ('C', 0.3178694158075602, 0.9892037786774629, 0.39862542955326463, 1.0, 0.4931271477663231, 1.0),
        ('C', 0.647766323024055, 1.0, 0.7646048109965636, 0.9730094466936572, 0.8419243986254297, 0.9203778677462888),
        ('C', 0.9209621993127147, 0.8677462887989205, 0.9604810996563573, 0.796221322537112, 0.9656357388316151,
         0.7071524966261808),
        ('L', 0.7164948453608249, 0.699055330634278),
        ('C', 0.7061855670103094, 0.7489878542510122, 0.6838487972508592, 0.7840755735492577, 0.647766323024055,
         0.8056680161943319),
        ('C', 0.6134020618556703, 0.8272604588394062, 0.5601374570446735, 0.8380566801619433, 0.49140893470790387,
         0.8380566801619433),
        ('C', 0.4192439862542956, 0.8380566801619433, 0.36254295532646047, 0.8272604588394062, 0.32130584192439865,
         0.8043184885290148),
        ('C', 0.29553264604810997, 0.7881241565452092, 0.28178694158075607, 0.7692307692307693, 0.28178694158075607,
         0.7435897435897436),
        ('C', 0.28178694158075607, 0.7206477732793523, 0.29381443298969073, 0.7017543859649124, 0.3195876288659794,
         0.6855600539811066),
        ('C', 0.35051546391752575, 0.6639676113360324, 0.4261168384879725, 0.6423751686909582, 0.5463917525773196,
         0.620782726045884),
        ('C', 0.668384879725086, 0.5978407557354926, 0.7577319587628867, 0.5748987854251012, 0.8144329896907218,
         0.5506072874493928),
        ('C', 0.8728522336769761, 0.5276653171390013, 0.9192439862542955, 0.4939271255060729, 0.9518900343642611,
         0.45344129554655876),
        ('C', 0.9845360824742267, 0.4116059379217274, 1.0, 0.3603238866396761, 1.0, 0.2982456140350877),
        ('C', 1.0, 0.24291497975708506, 0.9810996563573883, 0.19163292847503377, 0.9415807560137457,
         0.14304993252361672),
        ('C', 0.9020618556701032, 0.09446693657219973, 0.8470790378006874, 0.059379217273954114, 0.7749140893470791,
         0.03508771929824561),
        ('C', 0.7044673539518901, 0.01214574898785425, 0.6151202749140895, 0.0, 0.5085910652920963, 0.0),
        ('C', 0.35223367697594504, 0.0, 0.23367697594501716, 0.028340080971659916, 0.14948453608247422,
         0.08502024291497975),
        ('C', 0.06701030927835051, 0.1417004048582996, 0.017182130584192445, 0.22402159244264508, 0.0,
         0.3319838056680162),
    ],
    'T': [
        ('M', 0.374340949033392, 0.0),
        ('L', 0.374340949033392, 0.8310055865921788),
        ('L', 0.0, 0.8310055865921788),
        ('L', 0.0, 1.0),
        ('L', 1.0, 1.0),
        ('L', 1.0, 0.8310055865921788),
        ('L', 0.6274165202108963, 0.8310055865921788),
        ('L', 0.6274165202108963, 0.0),
        ('L', 0.374340949033392, 0.0)
    ],
    'U': [
        ('M', 0.0, 1.0),
        ('L', 0.2521891418563923, 1.0),
        ('L', 0.2521891418563923, 0.4670329670329671),
        ('C', 0.2521891418563923, 0.38324175824175827, 0.25569176882662, 0.32829670329670335, 0.2626970227670753,
         0.30219780219780223),
        ('C', 0.27320490367775835, 0.2623626373626374, 0.2994746059544658, 0.23076923076923078, 0.339754816112084,
         0.2060439560439561),
        ('C', 0.3800350262697022, 0.18131868131868134, 0.43607705779334494, 0.16895604395604397, 0.5061295971978983,
         0.16895604395604397),
        ('C', 0.5779334500875657, 0.16895604395604397, 0.6322241681260945, 0.18131868131868134, 0.669001751313485,
         0.20329670329670332),
        ('C', 0.7057793345008755, 0.22664835164835168, 0.7267950963222416, 0.2554945054945055, 0.7355516637478108,
         0.2884615384615385),
        ('C', 0.7425569176882661, 0.3228021978021978, 0.7460595446584938, 0.3777472527472528, 0.7460595446584938,
         0.4560439560439561),
        ('L', 0.7460595446584938, 1.0),
        ('L', 1.0, 1.0),
        ('L', 1.0, 0.4835164835164836),
        ('C', 1.0, 0.3653846153846154, 0.9929947460595446, 0.28159340659340665, 0.978984238178634,
         0.23351648351648355),
        ('C', 0.9649737302977233, 0.18406593406593408, 0.9404553415061295, 0.14285714285714285, 0.903677758318739,
         0.1098901098901099),
        ('C', 0.8669001751313483, 0.07554945054945054, 0.8178633975481611, 0.049450549450549455, 0.754816112084063,
         0.03021978021978022),
        ('C', 0.6935201401050788, 0.009615384615384616, 0.6129597197898423, 0.0, 0.5148861646234675, 0.0),
        ('C', 0.3940455341506129, 0.0, 0.3047285464098073, 0.01098901098901099, 0.24168126094570927,
         0.03159340659340659),
        ('C', 0.180385288966725, 0.053571428571428575, 0.13134851138353765, 0.08241758241758242, 0.09457092819614711,
         0.11675824175824175),
        ('C', 0.0595446584938704, 0.15109890109890112, 0.03502626970227671, 0.1881868131868132, 0.02451838879159369,
         0.22527472527472528),
        ('C', 0.007005253940455347, 0.28159340659340665, 0.0, 0.3653846153846154, 0.0, 0.4752747252747253),
        ('L', 0.0, 1.0)
    ],
    'V': [
        ('M', 0.38288288288288286, 0.0),
        ('L', 0.0, 1.0),
        ('L', 0.23423423423423423, 1.0),
        ('L', 0.506006006006006, 0.2597765363128492),
        ('L', 0.7702702702702703, 1.0),
        ('L', 1.0, 1.0),
        ('L', 0.6156156156156155, 0.0),
        ('L', 0.38288288288288286, 0.0),
    ],
    'W': [
        ('M', 0.18191489361702126, 0.0),
        ('L', 0.0, 1.0),
        ('L', 0.1574468085106383, 1.0),
        ('L', 0.2723404255319149, 0.3128491620111732),
        ('L', 0.4117021276595745, 1.0),
        ('L', 0.5946808510638298, 1.0),
        ('L', 0.7287234042553191, 0.3016759776536313),
        ('L', 0.8446808510638298, 1.0),
        ('L', 1.0, 1.0),
        ('L', 0.8148936170212766, 0.0),
        ('L', 0.6521276595744682, 0.0),
        ('L', 0.5, 0.7472067039106146),
        ('L', 0.348936170212766, 0.0),
        ('L', 0.18191489361702126, 0.0),
    ],
    'X': [
        ('M', 0.0, 0.0),
        ('L', 0.36786786786786785, 0.5223463687150838),
        ('L', 0.03453453453453453, 1.0),
        ('L', 0.2882882882882883, 1.0),
        ('L', 0.503003003003003, 0.6787709497206704),
        ('L', 0.7147147147147146, 1.0),
        ('L', 0.9669669669669669, 1.0),
        ('L', 0.632132132132132, 0.5139664804469274),
        ('L', 1.0, 0.0),
        ('L', 0.7372372372372372, 0.0),
        ('L', 0.5, 0.3463687150837989),
        ('L', 0.25975975975975973, 0.0),
        ('L', 0.0, 0.0),
    ],
    'Y': [
        ('M', 0.39162929745889385, 0.0),
        ('L', 0.39162929745889385, 0.420391061452514),
        ('L', 0.0, 1.0),
        ('L', 0.2526158445440957, 1.0),
        ('L', 0.5037369207772795, 0.6047486033519553),
        ('L', 0.7503736920777279, 1.0),
        ('L', 1.0, 1.0),
        ('L', 0.6068759342301944, 0.41899441340782123),
        ('L', 0.6068759342301944, 0.0),
        ('L', 0.39162929745889385, 0.0),
    ],
    'Z': [
        ('M', 0.0, 0.0),
        ('L', 0.0, 0.18156424581005587),
        ('L', 0.6471600688468159, 0.8310055865921788),
        ('L', 0.07228915662650602, 0.8310055865921788),
        ('L', 0.07228915662650602, 1.0),
        ('L', 0.9741824440619621, 1.0),
        ('L', 0.9741824440619621, 0.8435754189944135),
        ('L', 0.29948364888123924, 0.16899441340782123),
        ('L', 1.0, 0.16899441340782123),
        ('L', 1.0, 0.0),
        ('L', 0.0, 0.0),
    ],
    
}


def normalize_path(wild_path):
    min_x = infinity
    max_x = -infinity
    min_y = infinity
    max_y = -infinity
    
    for move in wild_path:
        if move[0] == 'M' or move[0] == 'L':
            min_x = min(min_x, move[1])
            max_x = max(max_x, move[1])
            min_y = min(min_y, move[2])
            max_y = max(max_y, move[2])
        if move[0] == 'C':
            min_x = min(min_x, move[5])
            max_x = max(max_x, move[5])
            min_y = min(min_y, move[6])
            max_y = max(max_y, move[6])
    diff_x = max_x - min_x
    diff_y = max_y - min_y
    print(min_x, max_x, diff_x)
    print(min_y, max_y, diff_y)
    new_path = []
    for move in wild_path:
        if move[0] == 'M' or move[0] == 'L':
            new_path.append((move[0], (move[1] - min_x) / diff_x, (move[2] - min_y) / diff_y))
        elif move[0] == 'C':
            new_path.append((move[0], (move[1] - min_x) / diff_x, (move[2] - min_y) / diff_y,
                             (move[3] - min_x) / diff_x, (move[4] - min_y) / diff_y,
                             (move[5] - min_x) / diff_x, (move[6] - min_y) / diff_y))
        else:
            new_path.append(move)
    return new_path


def read_string(string_path):
    matches = re.findall(
        r'([MLZC])(?:(-?\d+\.?\d*),(-?\d+\.?\d*))?(?: (-?\d+\.?\d*),(-?\d+\.?\d*) (-?\d+\.?\d*),(-?\d+\.?\d*))?',
        string_path)
    ret = []
    for match in matches:
        if match[0] == 'M' or match[0] == 'L':
            ret.append((match[0], float(match[1]), -float(match[2])))
        elif match[0] == 'C':
            ret.append((match[0], float(match[1]), -float(match[2]), float(match[3]), -float(match[4]), float(match[5]),
                        -float(match[6])))
    return ret


def create_svg(path, x, x_size, y, y_size, color):
    ret = ''
    for move in path:
        if move[0] == 'M':
            ret += 'M'
            ret += str(x + x_size * move[1])
            ret += ','
            ret += str(y + y_size * move[2])
        elif move[0] == 'L':
            ret += 'L'
            ret += str(x + x_size * move[1])
            ret += ','
            ret += str(y + y_size * move[2])
        elif move[0] == 'Z':
            ret += 'Z'
        elif move[0] == 'C':
            ret += 'C'
            ret += str(x + x_size * move[1])
            ret += ','
            ret += str(y + y_size * move[2])
            ret += ' '
            ret += str(x + x_size * move[3])
            ret += ','
            ret += str(y + y_size * move[4])
            ret += ' '
            ret += str(x + x_size * move[5])
            ret += ','
            ret += str(y + y_size * move[6])
    return go.layout.Shape(
        type="path",
        path=ret,
        fillcolor=color,
        line_color=color,
        opacity=1,
        layer="below",
    )


def get_nuc(nuc, x, x_size, y, y_size, color):
    return create_svg(svgs[nuc], x, x_size, y, y_size, color)


if __name__ == '__main__':
    import sys
    
    s = sys.argv[1]
    path_list = read_string(s)
    normal = normalize_path(path_list)
    print('[')
    for bla in normal:
        print(str(bla) + ',')
    print('],')
